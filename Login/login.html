<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="/public/style.css">

</head>

<body>
    <h1 id="header-title">Expense Tracker</h1>


    <form onsubmit="LOGIN(event)">
        ENTER YOUR EMAIL:<input type="text" id="email" required />
        PASSWORD:<input type="password" id="password" required />
        <button class="block" ;type="Submit">LOG IN</button>
        <a href="/ExpenseCalculatorApp.html">New User--Create an Account</a>
        <a href="/ForgotPassword/forgetPassword.html">Forgot Password?</a>
    </form>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>

    <script>
       async function LOGIN(UserCredential){
            const EMAIL=document.getElementById('email').value
            const PASSWORD=document.getElementById('password').value
            event.preventDefault()
            UserInfo={
                EMAIL,
                PASSWORD   
            }
            await axios.post("http://13.51.5.52:3000/User/LogIn",UserInfo)
                .then((res)=>{

                    if(res.status===201){
                        alert(res.data.message)
                        localStorage.setItem("token",res.data.token)
                        console.log(res)
                        


                         window.location.href='./ExpensePage.html'
 
                    }
                })
                .catch((err)=>{
                    alert(err.response.data.message)
                })
        }
    </script>
    </body>
    </html>